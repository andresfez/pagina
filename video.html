<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Página 3</title>

  <link rel="stylesheet" href="estilos.css">

  <style>
    /* Contenedor tipo “presentación vertical” */
    .deck{
      margin-top: 12px;
      height: min(78vh, 720px);
      overflow-y: auto;
      scroll-snap-type: y mandatory;
      scroll-behavior: smooth;
      padding-right: 6px;
    }

    .slide{
      scroll-snap-align: start;
      min-height: 72vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 14px;
      padding: 18px 14px;
      border-radius: var(--radius-card);
    }

    .content p{
      margin: 0;
      font-size: clamp(17px, 2.2vw, 20px);
      line-height: 1.65;
      text-align: left;
    }

    .muted{
      opacity: 0.85;
    }

    /* Lista bonita y ordenada */
    .slide ol{
      margin: 0;
      padding-left: 22px;
      text-align: left;
    }
    .slide li{
      margin-top: 10px;
      line-height: 1.6;
    }

    /* Botoncitos opcionales para navegar */
    .navRow{
      margin-top: 14px;
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* Indicador 1/7 */
    .pager{
      margin-top: 10px;
      font-size: 14px;
      opacity: 0.85;
    }

    /* Separación suave entre slides */
    .slide + .slide{
      margin-top: 12px;
      border-top: 1px solid rgba(255,255,255,0.08);
      padding-top: 28px;
    }
  </style>
</head>

<body>
  <main class="card center">
    <h1>Página 3</h1>
    <p class="muted">Desliza hacia abajo para leer por diapositivas.</p>

    <div class="deck" id="deck">

      <section class="slide content">
        <p>
          Hola, gracias por hacer parte de este mini-proyecto intento-de-celebración-de-San-Valentín, la verdad me gustó volver a hacer páginas así medio básicas.
        </p>
      </section>

      <section class="slide content">
        <p>
          Algunas semanas estaba pensando si en hacer algo de San Valentín, pero la verdad estaba indeciso porque no se si te llegue a incomodar, o a fastidiar (porque yo sé que a veces puedo ser muy intenso), o a molestar.
        </p>
      </section>

      <section class="slide content">
        <p>
          Al final me decidí en hacer este mini regalo virtual, porque la verdad me encantaría estar a tu lado en este mismo instante, más que nada (y según lo que me has contado) por el hecho de lo dificil que ha sido para ti acoplarte a España y a toda esta nueva etapa.
        </p>
      </section>

      <section class="slide content">
        <p>
          Pero humanamente no puedo ahahaha (por ahora), profesionalmente quién sabe. Pero por el momento, si el hecho de que al menos hayas sonreído 1 vez gracias a esta bobadita, me doy por servido.
        </p>
      </section>

      <section class="slide content">
        <p>
          Efectivamente esta es la página final, la página de despedida por lo que es momento de hacer algunos anuncios parroquiales:
        </p>
        <ol>
          <li>
            Está es una página temporal, por lo que en el lapso de aproximadamente 1 mes, va a desaparecer, esto no implica que desaparezca la playlist o lo que se obtiene en el link de esta página actual.
          </li>
          <li>
            La verdad no voy a preguntar si viste esto, si miraste la playlist, si llegaste hasta aquí, no voy a preguntar nada. No hay lío si quieres hablar sobre este cuasi-regalo pero yo me voy a hacer el bobo ahaha, el balón está en tu cancha pa ahahaha.
          </li>
          <li>
            Del mismo modo, a menos de que quieras, no voy a preguntar nada relacionado a si viste lo que esta al clickear el link de esta página, porque que nervios (porque pena solo robar).   
          </li>
        </ol>
      </section>

      <section class="slide content">
        <p>
          Ya para finalizar, quiero hacer una advertencia: El siguiente link cuenta con material sensible hahaha, por lo que no pasa absolutamente nada si no ves nada de lo que hay en el link; soldado advertido no muere en guerra.
        </p>
      </section>

      <section class="slide content">
        <p>
          Nuevamente muchas gracias por tomarte el tiempo de leer esto, y de llegar hasta acá (porque pues ajá, si lees esto es porque llegaste hasta acá, porque... así hice la página), te quiero y chao.
        </p>
        
        <div class="box">
          <p style="margin:0;">
            Enlace:
            <br>
            <a 
              href="https://drive.google.com/drive/folders/1EhIP3UPaFObpW5cg-XT3COxF53B2pZHO?usp=sharing" 
              target="_blank" 
              rel="noopener noreferrer"
              >
              Ábreme a ver
            </a>
          </p>
        </div>

        <div class="navRow">
          <button class="btn-secondary" id="btnPrev">Arriba</button>
          <button class="btn-secondary" id="btnNext">Siguiente</button>
        </div>
      </section>

    </div>

    <div class="pager" id="pager">1/7</div>

    <div class="actions" style="margin-top:14px;">
      <button class="btn-secondary" id="btnMenu">Volver al menú</button>
    </div>
  </main>

  <script>
    // Seguridad: si alguien entra directo a video.html sin pasar el quiz
    const FLAG = "quiz_p2_ok";
    if (localStorage.getItem(FLAG) !== "1") {
      window.location.href = "menu.html";
    }

    document.getElementById("btnMenu").addEventListener("click", () => {
      window.location.href = "menu.html";
    });

    // Navegación Prev/Next + indicador 1/7
    const deck = document.getElementById("deck");
    const slides = Array.from(deck.querySelectorAll(".slide"));
    const pager = document.getElementById("pager");

    function currentSlideIndex(){
      const deckTop = deck.getBoundingClientRect().top;
      let best = 0;
      let bestDist = Infinity;

      slides.forEach((s, idx) => {
        const dist = Math.abs(s.getBoundingClientRect().top - deckTop);
        if (dist < bestDist){
          bestDist = dist;
          best = idx;
        }
      });
      return best;
    }

    function updatePager(){
      const idx = currentSlideIndex();
      pager.textContent = `${idx + 1}/${slides.length}`;
    }

    function goToSlide(idx){
      const clamped = Math.max(0, Math.min(slides.length - 1, idx));
      slides[clamped].scrollIntoView({ behavior: "smooth", block: "start" });
      setTimeout(updatePager, 250);
    }

    document.getElementById("btnPrev").addEventListener("click", () => {
      goToSlide(currentSlideIndex() - 1);
    });

    document.getElementById("btnNext").addEventListener("click", () => {
      goToSlide(currentSlideIndex() + 1);
    });

    deck.addEventListener("scroll", () => {
      clearTimeout(deck._t);
      deck._t = setTimeout(updatePager, 80);
    });

    updatePager();
  </script>
</body>
</html>
